(this["webpackJsonpreact-movie-browser"]=this["webpackJsonpreact-movie-browser"]||[]).push([[0],{10:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c(3),n=c.n(a),r=c(0);var l=e=>{let{fetchTarget:t,title:c,onDataFetched:a}=e;const[n,l]=Object(s.useState)(!1);return Object(r.jsx)("button",{type:"button",disabled:n,className:"btn btn-sm btn-light mr-2",onClick:async()=>{l(!0);const e=t.map(e=>fetch(e)),c=(await Promise.all(e)).map(e=>e.json()),s=await Promise.all(c);a(s),l(!1)},children:c})},i=c(4),b=c.n(i);var j=e=>Object(r.jsx)("div",{className:"".concat(b.a["table-container"]," mt-2 table-responsive"),children:Object(r.jsxs)("table",{className:"table table-sm table-bordered",children:[Object(r.jsx)("caption",{children:Object(r.jsx)("button",{type:"button",className:"btn btn-sm btn-dark",onClick:e.onTableClose,children:"Close list"})}),Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsx)("tr",{children:e.columns.map((e,t)=>Object(r.jsx)("th",{scope:"col",children:e},t))})}),Object(r.jsx)("tbody",{children:e.data.map((e,t)=>Object(r.jsx)("tr",{children:Object.keys(e).map((t,c)=>Object(r.jsx)("td",{children:e[t]},c))},t))})]})});const o=["Characters","Planets","Starships","Vehicles","Species"];var d=e=>{let{movie:t}=e;const[c,a]=Object(s.useState)([]),n=t.producer.split(",");return Object(r.jsx)("div",{className:"card m-2",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h5",{className:"card-title",children:t.title}),Object(r.jsx)("p",{className:"card-text",children:t.opening_crawl}),Object(r.jsx)("span",{className:"badge badge-primary mr-1",children:t.director}),n.map((e,t)=>Object(r.jsx)("span",{className:"badge badge-warning mr-1",children:e},t)),Object(r.jsxs)("div",{className:"mt-2",children:[Object(r.jsx)("small",{children:"See "}),o.map((e,c)=>Object(r.jsx)(l,{title:e,fetchTarget:t[e.toLowerCase()],onDataFetched:e=>a(e)},c)),c.length>0&&Object(r.jsx)(j,{columns:Object.keys(c[0]),data:c,onTableClose:()=>a([])})]})]})})};var m=()=>{const[e,t]=Object(s.useState)([]),[c,a]=Object(s.useState)(!0);return Object(s.useEffect)(()=>{(async()=>{const e=await fetch("https://swapi.dev/api/films/"),c=await e.json();t(c.results),a(!1)})()},[]),Object(r.jsxs)("div",{children:[c&&Object(r.jsx)("p",{children:"Fetching the list of movies for you..."}),!c&&(null===e||void 0===e?void 0:e.map((e,t)=>Object(r.jsx)(d,{movie:e},t)))]})};function h(){return Object(r.jsx)("div",{className:"container mt-4",children:Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"col-md-12",children:Object(r.jsx)(m,{})})})})}const O=document.getElementById("root");n.a.render(Object(r.jsx)(s.StrictMode,{children:Object(r.jsx)(h,{})}),O)},4:function(e,t,c){e.exports={"table-container":"Table_table-container__26pBC"}}},[[10,1,2]]]);
//# sourceMappingURL=main.c277a780.chunk.js.map